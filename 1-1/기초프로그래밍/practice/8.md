# 8.파일 처리와 예외 처리

<!-- TOC -->
* [8.파일 처리와 예외 처리](#8파일-처리와-예외-처리)
  * [파일 입출력 기초](#파일-입출력-기초)
  * [텍스트 파일 처리](#텍스트-파일-처리)
  * [바이너리 파일 처리](#바이너리-파일-처리)
  * [디렉터리 처리](#디렉터리-처리)
  * [예외 처리](#예외-처리)
  * [with 구문](#with-구문)
<!-- TOC -->

중요한 것은 텍스트와 바이너리 파일을 어떻게 처리할 것인가이다.

## 파일 입출력 기초

- 열기 모드: `fp = open("test.dat", "r+b")`
  - 읽기(r: 디폴트), 쓰기(w), 추가(a)
    - +: 읽기/쓰기 모두 가능
  - 텍스트 모드(t: 디폴트), 바이너리 모드(b)

|   | 설명                                 |
|---|------------------------------------|
| r | Read: 파일 없으면 에러                    |
| a | Append: 파일 없으면 생성, 파일 있으면 내용 삭제 안함 |
| w | Write: 파일 없으면 생성, 파일 있으면 내용 삭제     |
| x | Create: 파일 없으면 생성, 파일 있으면 에러       |
| t | 텍스트 모드                             |
| b | 바이너리 모드                            |

- 텍스트 파일 vs 바이너리 파일
  - 텍스트 파일: 문자열로 저장
    - wirte, read, readline, readlines 메소드
  - 바이너리 파일: 메모리 형태로 저장
    - struct 모듈, bytearray 객체, pickle 모듈
- 닫기: `fp.close()`
- 파일 존재 여부 확인
  - isfile 함수: `os.path.isfile("파일명")`
  - 바로 종료: `sys.exit()`
- 한글 깨짐 방지: `encoding="UTF-8"`

## 텍스트 파일 처리

- 쓰기
  - write(""): 문자열 저장
  - writelines(list): 요소의 문자열을 저장
- 추가
  - 열기 모드에 "a" 사용
- 읽기
  - read(count): 개수만큼 읽기
  - read(): 나머지 모든 문자열 읽기
  - readline(): 다음 하나의 라인 읽기
    - str 객체의 strip, lstrip, rstrip: 양 쪽 공백 제거
  - readlines(): 남은 라인들 리스트로 읽기
  - 한 줄 단위 읽을 때: for문 활용
    - `for line in file:`
    - 파일 객체 → 이터러블 객체 → for문

## 바이너리 파일 처리
## 디렉터리 처리
## 예외 처리
## with 구문